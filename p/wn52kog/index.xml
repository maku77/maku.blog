<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS IAM のメモ on まくろぐ</title><link>https://maku.blog/p/wn52kog/</link><description>Recent content in AWS IAM のメモ on まくろぐ</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Sun, 07 Feb 2021 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/p/wn52kog/index.xml" rel="self" type="application/rss+xml"/><item><title>AWS の初期設定: 管理者用の IAM ユーザーを作成する</title><link>https://maku.blog/p/xbipv39/</link><pubDate>Sun, 07 Feb 2021 00:00:00 +0900</pubDate><guid>https://maku.blog/p/xbipv39/</guid><description>何をするか？ AWS のベストプラクティスでは、管理者であっても普段の作業では AWS アカウントのルートユーザーを直接使うべきではないとされています。
参考: AWS アカウント、IAM ユーザー、グループ、ポリシーの違い そこで、まずは管理者の普段の作業用に IAM ユーザーを作成します。 この作成作業は、AWS アカウントのルートユーザーで行う必要があります（初期状態ではユーザー作成の権限がルートユーザーにしかないため）。
ここでは、下記のような名前の IAM ユーザーとグループを作成することにします。
IAM ユーザー: admin IAM グループ: Admins &amp;hellip; （AdministratorAccess ポリシーを割り当てます） 管理者用 IAM ユーザーの作成 AWS IAM コンソール にサインインし、次のような感じで IAM ユーザーを作成します。
アクセス管理 → ユーザー → ユーザーを追加 を選択し、次のように入力 ユーザー名: admin アクセスの種類: CLI などで操作するなら プログラムによるアクセス にチェック ユーザーをグループに追加 → グループの作成 を選択し、次のように入力 グループ名: Admins ポリシー: AdministratorAccess を選択 アクセスキーや、シークレットアクセスキーを作成したのであれば、このタイミングで表示されるので、なくさないよう厳重に保存します（後から確認することはできません）。
これで、管理者用の普段の作業も、ルートユーザーではなく、admin という IAM ユーザーで行えるようになります。
（応用）開発者用の IAM ユーザーの作成 上記では管理者用の IAM ユーザーを作成しましたが、それ以外の IAM ユーザー（開発者用など）も同様に作成することができます。 AWS は開発者用の IAM ポリシーをいくつか定義しています。 AdministratorAccess ポリシーとの大きな違いは、IAM 関連の操作（つまりユーザー管理）をするための権限を持っていないことです。</description></item><item><title>AWS IAM の設定をコマンドライン (CLI) で行う</title><link>https://maku.blog/p/aov4bho/</link><pubDate>Sun, 07 Feb 2021 00:00:00 +0900</pubDate><guid>https://maku.blog/p/aov4bho/</guid><description>AWS CLI（aws コマンド）を使うと、様々な IAM 系の操作をコマンドラインから実行できるようになります。 ただし、IAM の制御を行えるのは、AdministratorAccess ポリシーなどが割り当てられ、IAM 操作の権限が付いているユーザーに限られます。
iam -- AWS CLI Command Reference ユーザー関連 IAM ユーザーを作成する (iam create-user) aws iam create-user --user-name &amp;lt;ユーザー名&amp;gt; 実行例 $ aws iam create-user --user-name user-1 --output yaml User: Arn: arn:aws:iam::049957049344:user/user-1 CreateDate: &amp;#39;2021-11-01T08:41:29+00:00&amp;#39; Path: / UserId: AIDAQXINMCQAPJRMFE22H UserName: user-1 iam create-user コマンドを使うと、指定した名前の IAM ユーザーを作成できます。 作成したユーザーの情報は、iam get-user や iam list-users コマンドで取得できます。 作成したユーザー用の API アクセスキーを生成するには、ひきつづき iam create-access-key コマンドを使用します。
IAM ユーザーを削除する (iam delete-user) aws iam delete-user --user-name &amp;lt;ユーザー名&amp;gt; 指定したユーザーに何らかの設定情報（アクセスキーや SSH キー、MFA など）が設定されている場合は、先にそれらの情報を削除しておく必要があります。 例えば、アクセスキーが設定されている場合は、delete-access-key コマンドで削除してからユーザー自体を削除します。</description></item></channel></rss>