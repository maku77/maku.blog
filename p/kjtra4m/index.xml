<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Claude on まくろぐ</title><link>https://maku.blog/p/kjtra4m/</link><description>Recent content in Claude on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Fri, 29 Aug 2025 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/p/kjtra4m/index.xml" rel="self" type="application/rss+xml"/><item><title>Claude Code の使い方（指示の出し方のコツ）</title><link>https://maku.blog/p/qj9wydo/</link><pubDate>Fri, 29 Aug 2025 00:00:00 +0900</pubDate><guid>https://maku.blog/p/qj9wydo/</guid><description>&lt;p>Claude Code を使っていく中で、効率的な活用方法がいろいろと見えてきたので、そのノウハウをまとめてみました。
Claude Code と効率的に共同作業するためのコツです。&lt;/p>
&lt;p>Claude Code を使い始めた頃は、「指示を出す → 作業が終わるまで見守る → 新しい指示を出す」というパターンで使っていました。
しかし、この方法だと自分がツールを操作しているだけで、結局ずっと画面に張り付いていなければなりません。
Claude Code をもっと有効活用するには、&lt;strong>人に仕事を依頼する感覚&lt;/strong> で使うのがコツだと気づきました。
以下のような機能を知っていると、&lt;strong>単なる壁打ちから脱却した本格的な共同作業&lt;/strong> ができるようになります。&lt;/p>
&lt;ul>
&lt;li>作業中に割り込んで方向性を修正する（&lt;code>ESC&lt;/code> 割り込み）&lt;/li>
&lt;li>最初に詳細なプランを立ててもらう（&lt;code>Shift + TAB&lt;/code> で Plan mode へ）&lt;/li>
&lt;li>作業が終わったら通知してもらう（hooks）&lt;/li>
&lt;li>Claude Code と並行してリポジトリ内で別の作業をする（&lt;code>git worktree&lt;/code> など）&lt;/li>
&lt;/ul>
&lt;h2 id="作業中に割り込む-esc">作業中に割り込む (ESC)&lt;/h2>


&lt;figure class="xImage">
 &lt;img style="" width="300" height="200" src="../../p/qj9wydo/img-matta_hu16808176166016533808.png" alt="/p/qj9wydo/img-matta.png" />
&lt;/figure>

&lt;p>&lt;strong>&lt;code>ESC&lt;/code> キーによる「待った」&lt;/strong> 機能はとても重要です。
Claude Code に複雑な作業を任せていると、途中で「あ、やっぱりこうしてほしい」と思うことがよくあります。
例えば、ビルド構成を最適化してもらっているときに、Claude が想定外のファイルまで解析しようとしていることに気づいたとします。
そんなときは &lt;strong>&lt;code>ESC&lt;/code>&lt;/strong> キーを押して作業に割り込み、「そのファイルは対象外です」と教えてあげましょう。&lt;/p>


&lt;figure class="xImage">
 &lt;img style="border: solid #ccc 2px;" width="700" height="318" src="../../p/qj9wydo/img-interrupt-1_hu970522084987540851.png" alt="/p/qj9wydo/img-interrupt-1.png" />
 &lt;figcaption>図: ESC で割り込み指示&lt;/figcaption>
&lt;/figure>

&lt;p>すると、新しい方針に従って作業を続けてくれます。
Claude が考えている最中だけでなく、Claude から追加の情報を求められたとき（ユーザーからの入力待ちのとき）にも割り込みできます。
間違った方向に進んでいることに気づいたら、すぐに &lt;code>ESC&lt;/code> キーで割り込めば、トークンも時間も無駄になりません。&lt;/p>
&lt;h2 id="先に詳細なプランを立ててもらう-plan-mode">先に詳細なプランを立ててもらう (Plan mode)&lt;/h2>
&lt;p>仕事で部下や協力会社の人に複雑な作業をお願いするときは、いきなり作業を始めてもらうのではなく、まず「作業プラン」を立ててもらって確認しますよね。
Claude Code でも同じように、最初に詳細なプランを立ててもらい、それを確認してから作業してもらうと手戻りが少なくなります。
Claude Code はデフォルトだといきなり作業を始めてしまうので、&lt;strong>&lt;code>Shift + TAB&lt;/code>&lt;/strong> キーを2回押してPlan mode に切り替えます。&lt;/p></description></item><item><title>Claude Code のカスタムコマンドを Git や Dropbox で共有する</title><link>https://maku.blog/p/xpwvvfz/</link><pubDate>Thu, 31 Jul 2025 00:00:00 +0900</pubDate><guid>https://maku.blog/p/xpwvvfz/</guid><description>&lt;h2 id="何をするか">何をするか？&lt;/h2>
&lt;p>プロジェクトに依存しない汎用的な Claude Code カスタムスラッシュコマンドは、&lt;code>~/.claude/commands&lt;/code> ディレクトリ以下に &lt;code>*.md&lt;/code> ファイルを作成することで定義できます。
よく使うプロンプトをカスタムコマンドとして登録しておくと、どのディレクトリからでも呼び出せるのでとても便利です。
ただし、これらの設定ファイルはユーザーのホームディレクトリ以下で管理されるため、複数の PC で同じ設定を使いたい場合は、通常は手動でコピーする必要があります。&lt;/p>
&lt;p>ここでは、&lt;strong>Windows のジャンクションや macOS/Linux のシンボリックリンク&lt;/strong> を使って、&lt;code>~/.claude&lt;/code> 以下のディレクトリを GitHub や Dropbox で管理しているディレクトリにリンクさせる方法を説明します。
こうすることで、複数の PC で Claude Code の設定を簡単に共有できるようになります。
この方法は、特にチームメンバーと汎用的なカスタムコマンドを共有したい場合に便利です。&lt;/p>
&lt;h2 id="共有する-claude-code-の設定ファイルを用意する">共有する Claude Code の設定ファイルを用意する&lt;/h2>
&lt;p>Claude Code の設定ファイルを &lt;strong>&lt;code>claude-config&lt;/code>&lt;/strong> という Git リポジトリで管理することにします（もっと手軽に Dropbox などで管理してもよいです）。
まず、テスト用に下記のような &lt;code>hello.md&lt;/code> カスタムコマンドを用意します。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">~/gitwork/claude-config/commands/hello.md&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">簡単な挨拶コマンド&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">「てすと、てすと」とだけ出力してください。&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>このカスタムコマンドを複数の PC で共有できるようにします。&lt;/p>
&lt;h2 id="claude-以下からリンクする">~/.claude 以下からリンクする&lt;/h2>
&lt;p>上記で作成した Claude Code 用の設定ファイル（カスタムコマンド）を、各 PC の &lt;code>~/.claude/commands&lt;/code> 以下からリンクします。
&lt;code>.md&lt;/code> ファイルを 1 つずつリンクしていくのは大変なので、ディレクトリ単位でリンクしてしまうのがよいです。
ここでは、&lt;strong>&lt;code>~/.claude/commands/maku&lt;/code>&lt;/strong> というディレクトリを、&lt;code>~/gitwork/claude-config/commands&lt;/code> ディレクトリにリンクすることにします。
&lt;code>maku&lt;/code> という名前は適当に付けましたが、ここは任意の名前でよいです。
例えば、チーム名やプロジェクト名などにしておくと分かりやすいと思います。&lt;/p></description></item><item><title>Claude Code を辞書にするスラッシュコマンドを定義する (/m-en, /m-ja)</title><link>https://maku.blog/p/52v9k2v/</link><pubDate>Sun, 13 Jul 2025 00:00:00 +0900</pubDate><guid>https://maku.blog/p/52v9k2v/</guid><description>&lt;p>Claude Code では、よく使うプロンプトを独自のスラッシュコマンドとして定義しておくことができます。
ここでは、&lt;strong>&lt;code>/m-en&lt;/code>&lt;/strong> と &lt;strong>&lt;code>/m-ja&lt;/code>&lt;/strong> というスラッシュコマンドを定義して、英語と日本語の翻訳機として使う方法を紹介します。&lt;/p>
&lt;div class="xNote">
 &lt;span class="xNote_title">☝️ m- というプレフィックス&lt;/span>
 &lt;span class="xNote_body">個人的なコマンドを定義するときは、いつも &lt;strong>&lt;code>m-&lt;/code>&lt;/strong> というプレフィックスを付けるようにしています。
こうすると、&lt;code>m-&lt;/code> とタイプするだけで、自分で定義したコマンドを一覧表示できるので便利です。
みなさんは、このようなプレフィックスを付けずに、&lt;code>/en&lt;/code> や &lt;code>/ja&lt;/code> という名前でスラッシュコマンドを定義しても大丈夫です。&lt;/span>
&lt;/div>
&lt;p>スラッシュコマンドは、下記のようにホームディレクトリ以下に &lt;code>.md&lt;/code> ファイルを作成することで定義できます。
この例では英語で記述していますが、日本語で記述しても大丈夫です。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">~/.claude/commands/m-en.md（英語への翻訳）&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-md" data-lang="md">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: Translate text to English
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please translate the following text to English with natural, appropriate English expressions:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">&lt;/span>$ARGUMENTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">### Output Rules
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> If the input argument is one or two words, please display the following:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Three English translation results (English word or phrase) with english pronunciation (e.g. hello /həˈloʊ/)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Three usage examples in the text in order of frequency, with Japanese translations
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> If the input argument is a phrase or sentence, please display the following:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> If the input text contains unnatural Japanese, provide a corrected version with natural Japanese expressions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Three English translation results (English sentences)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Three usage examples in the text in order of frequency, with Japanese translations
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please display responses simply without Markdown formatting.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please don&amp;#39;t display unnecessary messages at the beginning and end.&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>


&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">~/.claude/commands/m-ja.md（日本語への翻訳）&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-md" data-lang="md">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: Translate text to Japanese
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please translate the following text to Japanese with natural, appropriate Japanese expressions:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">&lt;/span>$ARGUMENTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">### Output Rules
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> If the input argument is one or two words, please display the following:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> English pronunciation (e.g. hello /həˈloʊ/)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> The word in Japanese
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Three example sentences in order of frequency, with Japanese translations
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> If the input argument is a phrase or sentence, please display the following:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> If the input text contains unnatural English, provide a corrected version with natural English expressions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> Japanese translation of the phrase or sentence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please display responses simply without Markdown formatting.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please don&amp;#39;t display unnecessary messages at the beginning and end.&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>それぞれ使用例などを表示するように指示しているため少々長くなっていますが、もっと簡単に「&lt;code>$ARGUMENTS&lt;/code> を英語に翻訳してください」のような内容だけでも OK です。
自分の用途に会うように調整してください。&lt;/p></description></item></channel></rss>