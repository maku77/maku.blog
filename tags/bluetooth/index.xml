<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bluetooth on まくろぐ</title><link>https://maku.blog/tags/bluetooth/</link><description>Recent content in Bluetooth on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Sun, 20 Feb 2022 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/bluetooth/index.xml" rel="self" type="application/rss+xml"/><item><title>Linuxメモ: Bluetooth 関連コマンドのメモ (hciconfig, bluetoothctl)</title><link>https://maku.blog/p/ter3doz/</link><pubDate>Sun, 20 Feb 2022 00:00:00 +0900</pubDate><guid>https://maku.blog/p/ter3doz/</guid><description>&lt;h2 id="bluetooth-デバイスの情報を表示する-hciconfig">Bluetooth デバイスの情報を表示する (hciconfig)&lt;/h2>
&lt;p>&lt;strong>&lt;code>hciconfig&lt;/code>&lt;/strong> は、Bluetooth デバイスの情報表示や設定を行うためのコマンドです。
HCI プロトコルで Bluetooth コントローラーと通信します。
&lt;code>hciconfig&lt;/code> コマンドが見つからない場合は、&lt;strong>&lt;code>bluez&lt;/code>&lt;/strong> パッケージをインストールします。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">Ubuntu への bluez パッケージのインストール&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt install -y bluez
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>Bluetooth のデバイス名には &lt;code>hci0&lt;/code> や &lt;code>hci1&lt;/code> といった名前が付けられ、&lt;code>hciconfig&lt;/code> コマンドでそれらの一覧を表示することができます。
次の実行例は、Raspberry Pi 4 に USB Bluetooth ドングルを接続した状態で &lt;code>hciconfig&lt;/code> コマンドを実行したときの結果です（アドレスは一部伏せてます）。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> hciconfig
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">hci1: Type: Primary Bus: USB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> BD Address: 00:E0:4C:XX:XX:XX ACL MTU: 1021:6 SCO MTU: 255:12
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> UP RUNNING
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> RX bytes:2186 acl:0 sco:0 events:105 errors:0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> TX bytes:12322 acl:0 sco:0 commands:105 errors:0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">hci0: Type: Primary Bus: UART
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> BD Address: DC:A6:32:XX:XX:XX ACL MTU: 1021:8 SCO MTU: 64:1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> UP RUNNING
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> RX bytes:1514 acl:0 sco:0 events:90 errors:0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> TX bytes:2061 acl:0 sco:0 commands:90 errors:0
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>USB ドングルの Bluetooth デバイスが &lt;code>hci1&lt;/code> (Bus: USB)、Raspberry Pi 4 組み込みの Bluetooth デバイスが &lt;code>hci0&lt;/code> (Bus: UART) として認識されているのが分かります。
&lt;code>hciconfig&lt;/code> コマンドに &lt;code>-a (--all)&lt;/code> オプションをつけて実行すると、詳細情報を表示できます。&lt;/p></description></item></channel></rss>