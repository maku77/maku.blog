<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>圧縮・展開 on まくろぐ</title><link>https://maku.blog/tags/%E5%9C%A7%E7%B8%AE%E5%B1%95%E9%96%8B/</link><description>Recent content in 圧縮・展開 on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Tue, 06 Apr 2021 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/%E5%9C%A7%E7%B8%AE%E5%B1%95%E9%96%8B/index.xml" rel="self" type="application/rss+xml"/><item><title>macOS のコマンドラインで ZIP ファイルを作成する</title><link>https://maku.blog/p/2it3bjs/</link><pubDate>Tue, 06 Apr 2021 00:00:00 +0900</pubDate><guid>https://maku.blog/p/2it3bjs/</guid><description>&lt;h2 id="zip-ファイルを作成するzip-コマンド">ZIP ファイルを作成する（zip コマンド）&lt;/h2>
&lt;p>macOS に標準で付属している &lt;code>zip&lt;/code> コマンドを使って、ファイル群を ZIP ファイルとしてアーカイブ（圧縮）できます。&lt;/p>
&lt;h3 id="ファイルを-1-つずつ指定する">ファイルを 1 つずつ指定する&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> zip sample.zip 1.txt 2.txt 3.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">作成される ZIP ファイル&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">sample.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 1.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 2.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 3.txt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h3 id="ディレクトリごとまとめて-zip-化する--r">ディレクトリごとまとめて ZIP 化する (-r)&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> zip -r sample.zip dir1 dir2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">作成される ZIP ファイル&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">sample.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- dir1/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | +-- 1.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | +-- 2.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | +-- 3.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- dir2/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 4.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 5.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- 6.txt&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h3 id="トップディレクトリを含めずに-zip-化する">トップディレクトリを含めずに ZIP 化する&lt;/h3>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">例: src ディレクトリ以下のファイルだけ圧縮&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nb">cd&lt;/span> src &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> zip -r ../src.zip ./*&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>コマンド全体を括弧 &lt;code>()&lt;/code> で囲んでいるのは、コマンド実行後にもとのディレクトリに戻るためです。&lt;/p></description></item><item><title>Windows のコマンドラインで ZIP ファイルを作成する (Compress-Archive)</title><link>https://maku.blog/p/vin35f7/</link><pubDate>Wed, 03 Mar 2021 00:00:00 +0900</pubDate><guid>https://maku.blog/p/vin35f7/</guid><description>&lt;p>Windows のコマンドプロンプト（あるいは PowerShell）から zip ファイルを作成するには、PowerShell の &lt;a href="https://docs.microsoft.com/ja-jp/powershell/module/Microsoft.PowerShell.Archive/Compress-Archive">Compress-Archive コマンド&lt;/a> を使用します。
特に何もインストールしなくても実行できます。&lt;/p>
&lt;h2 id="指定したディレクトリを-zip-圧縮する">指定したディレクトリを zip 圧縮する&lt;/h2>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">src ディレクトリを dst.zip にアーカイブ&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">C:\&amp;gt; powershell compress-archive src dst&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>


&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">作成される zip ファイル&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">dst.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- src/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file3&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>出力ファイル名 &lt;code>dst.zip&lt;/code> の &lt;code>.zip&lt;/code> は省略することができます。
&lt;code>dst.zip&lt;/code> を展開すると、ルートに &lt;code>src&lt;/code> ディレクトリが現れる状態になります。&lt;/p>
&lt;h2 id="ディレクトリ内のファイルのみを-zip-圧縮する">ディレクトリ内のファイルのみを zip 圧縮する&lt;/h2>
&lt;p>ルートディレクトリ（この例では &lt;code>src&lt;/code>）を zip ファイルに含めずに、そのディレクトリ内のファイル群だけを zip ファイルにまとめたいときは、次のように &lt;strong>&lt;code>src/*&lt;/code>&lt;/strong> と指定します。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">src ディレクトリの中身だけを dst.zip にアーカイブ&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">C:\&amp;gt; powershell compress-archive src/* dst&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>


&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">作成される zip ファイル&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">dst.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-- file3&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h2 id="複数のディレクトリやファイルを-zip-圧縮する">複数のディレクトリやファイルを zip 圧縮する&lt;/h2>
&lt;p>圧縮対象のディレクトリやファイルを複数指定するには、次のようにカンマ (&lt;code>,&lt;/code>) で列挙します。
カンマの前後にはスペースを入れないことに注意してください。&lt;/p></description></item></channel></rss>