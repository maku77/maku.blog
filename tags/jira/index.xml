<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jira on まくろぐ</title><link>https://maku.blog/tags/jira/</link><description>Recent content in Jira on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Wed, 13 Dec 2023 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/jira/index.xml" rel="self" type="application/rss+xml"/><item><title>Python で Jira の情報を取得する</title><link>https://maku.blog/p/thhqqc7/</link><pubDate>Wed, 13 Dec 2023 00:00:00 +0900</pubDate><guid>https://maku.blog/p/thhqqc7/</guid><description>&lt;p>プロジェクト管理ツールである Jira は、REST API を使って情報を取得できるようになっています。
ここでは、Python を使って Jira の情報を取得してみます。&lt;/p>
&lt;h2 id="jira-パッケージのインストール">jira パッケージのインストール&lt;/h2>
&lt;p>Python から JIRA の情報を取得するには、PyPI で公開されている &lt;a href="https://pypi.org/project/jira/">jira パッケージ&lt;/a> を使用すると簡単です（&lt;code>jira&lt;/code> パッケージ内部で REST API を使っています）。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">jira パッケージのインストール&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> pip install jira
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h2 id="jira-パッケージの基本的な使い方">jira パッケージの基本的な使い方&lt;/h2>
&lt;p>下記は、JIRA プロジェクトの一覧を取得する簡単な例です。
ユーザー ID やパスワードは適切なものに置き換えてください。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">jira-projects.py&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">jira&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">JIRA&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">JIRAError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">JIRA_SERVER&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;https://&amp;lt;server&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">JIRA_USER&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;lt;user&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">JIRA_PW&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;lt;password&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">jira&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">JIRA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JIRA_SERVER&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">basic_auth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JIRA_USER&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">JIRA_PW&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">prj&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">jira&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">projects&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;key: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">prj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">, name: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">prj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span> &lt;span class="n">JIRAError&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Error: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status_code&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>


&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">実行結果&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">Key: TST, Name: A Test Project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: TST2, Name: A Test Project 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: ANALYTICS, Name: Analytics
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: ANTIABUSETEST, Name: Anti-Abuse Test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: ATLAS, Name: Atlas
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: ACCESS, Name: Atlassian Access
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: CLOUD, Name: Atlassian Cloud
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>Jira Cloud サービスを使用している場合、パスワードをそのまま指定する方法は &lt;a href="https://developer.atlassian.com/cloud/jira/platform/deprecation-notice-basic-auth-and-cookie-based-auth/">非推奨になった&lt;/a> ので、API トークンを発行してパスワードの代わりに指定します。&lt;/p></description></item></channel></rss>