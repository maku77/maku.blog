<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Npm on まくろぐ</title><link>https://maku.blog/tags/npm/</link><description>Recent content in Npm on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Thu, 21 May 2020 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/npm/index.xml" rel="self" type="application/rss+xml"/><item><title>npm run スクリプト実行時の ERR! 出力を抑制する (npm run --silent)</title><link>https://maku.blog/p/epm9ipy/</link><pubDate>Thu, 21 May 2020 00:00:00 +0900</pubDate><guid>https://maku.blog/p/epm9ipy/</guid><description>&lt;p>&lt;strong>&lt;code>npm run&lt;/code>&lt;/strong> コマンドを使うと、&lt;code>package.json&lt;/code> に定義されているスクリプトを実行することができるのですが、そこで実行したコマンドがエラー終了（&lt;code>exit 1&lt;/code> など）すると、&lt;code>npm run&lt;/code> の実行自体もエラー扱いとなり、下記のようにエラー情報がたくさん出力されます。&lt;/p>

&lt;figure class="xCodeBlock">

&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm run test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; myapp@1.0.0 test C:\myapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; echo &amp;#34;Error: no test specified&amp;#34; &amp;amp;&amp;amp; exit 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;Error: no test specified&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! code ELIFECYCLE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! errno 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! myapp@1.0.0 test: `echo &amp;#34;Error: no test specified&amp;#34; &amp;amp;&amp;amp; exit 1`
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! Exit status 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! Failed at the myapp@1.0.0 test script.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm WARN Local package.json exists, but node_modules missing, did you mean to install?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! A complete log of this run can be found in:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm ERR! C:\Users\maku\AppData\Roaming\npm-cache\_logs\2020-05-21T09_29_36_426Z-debug.log&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>この &lt;strong>&lt;code>npm ERR!&lt;/code>&lt;/strong> という出力を抑制するには、次のように &lt;strong>&lt;code>--silent&lt;/code>&lt;/strong> オプションを使用します。&lt;/p></description></item><item><title>npm でインストール済みのモジュールを簡潔にリスト表示する</title><link>https://maku.blog/p/nuvbg6k/</link><pubDate>Thu, 21 May 2020 00:00:00 +0900</pubDate><guid>https://maku.blog/p/nuvbg6k/</guid><description>&lt;p>&lt;strong>&lt;code>npm list (ls)&lt;/code>&lt;/strong> コマンドは NPM (Node Package Manager) でインストールしたパッケージの一覧を表示するコマンドですが、デフォルトでは依存モジュールをすべてツリー構造で表示するので、出力が大量になります。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">インストールパッケージの一覧を表示&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">myapp@1.0.0 D:\y\gitwork\myapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-- textlint@11.6.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| +-- @textlint/ast-node-types@4.2.5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| +-- @textlint/ast-traverse@2.1.7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| | `-- @textlint/ast-node-types@4.2.5 deduped
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| +-- @textlint/feature-flag@3.1.6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| | `-- map-like@2.0.0 deduped
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| +-- @textlint/fixer-formatter@3.1.13
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| | +-- @textlint/module-interop@1.0.2 deduped
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| | +-- @textlint/types@1.3.1 deduped
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">... なが～い出力 ...&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>次のように &lt;strong>&lt;code>--depth&lt;/code>&lt;/strong> オプションを付けると、トップレベルのモジュール名だけを簡潔に表示することができます。&lt;/p>

&lt;figure class="xCodeBlock">

&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm ls --depth=0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">myapp@1.0.0 D:\y\gitwork\myapp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-- textlint@11.6.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-- textlint-rule-preset-ja-technical-writing@3.1.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">`-- textlint-rule-web-plus-db@1.1.5&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>グローバルにインストールしたモジュールを表示するときも同様です。&lt;/p></description></item></channel></rss>