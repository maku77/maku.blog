<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Textlint on まくろぐ</title><link>https://maku.blog/tags/textlint/</link><description>Recent content in Textlint on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Thu, 18 Jun 2020 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/textlint/index.xml" rel="self" type="application/rss+xml"/><item><title>textlint のインストールと基本的な使い方</title><link>https://maku.blog/p/3veuap5/</link><pubDate>Wed, 20 May 2020 00:00:00 +0900</pubDate><guid>https://maku.blog/p/3veuap5/</guid><description>&lt;h2 id="textlint-とは">textlint とは&lt;/h2>


&lt;figure class="xImage">
 &lt;img style="" width="400" height="167" src="../../p/3veuap5/img-001_hu11819240329669474517.png" alt="/p/3veuap5/img-001.png" />
&lt;/figure>

&lt;p>&lt;strong>textlint&lt;/strong> は、テキストファイルや Markdown ファイル用の記述内容をチェックするための校正ツールです。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://textlint.github.io/">textlint · The pluggable linting tool for text and markdown&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>たとえば、「である・ですます調の不一致」、「単語の表記揺れ」、「句読点の使いすぎ」など、様々なルールを定義して文章をチェックすることができます。
多人数で管理する社内ドキュメントはもちろんのこと、個人のブログなどで使用すれば、すべての文章で一定の品質を保つことができるようになります。&lt;/p>
&lt;h2 id="textlint-のインストール">textlint のインストール&lt;/h2>
&lt;p>textlint は &lt;a href="https://nodejs.org/">Node.js&lt;/a> のパッケージとして配布されているので、まだインストールされていない場合は先に Node.js をインストールしておく必要があります。&lt;/p>
&lt;h3 id="カレントプロジェクト用にインストールする">カレントプロジェクト用にインストールする&lt;/h3>
&lt;p>カレントプロジェクト用に textlint をインストールするには、プロジェクト（テキストファイルが入ったディレクトリ）のルートディレクトリに移動し、次のように &lt;code>npm&lt;/code> コマンドを実行します。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">textlint をインストール&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm init -y # なければ package.json を作成
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm install --save-dev textlint&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;div class="xNote">
 &lt;span class="xNote_title">☝️ ワンポイント&lt;/span>
 &lt;span class="xNote_body">この方法でインストールすると、カレントディレクトリの &lt;code>node_modules&lt;/code> ディレクトリ以下に、ローカルモジュールとして textlint がインストールされます。
&lt;code>--save-dev (-D)&lt;/code> オプションを付けることで、依存パッケージの情報が &lt;code>package.json&lt;/code> および &lt;code>pacakge-lock.json&lt;/code> ファイルに記録され、他のユーザーが &lt;code>npm install&lt;/code> で同じ環境を構築できるようになります。&lt;/span>
&lt;/div>

&lt;p>次のように textlint コマンドを実行できれば成功です。&lt;/p>

&lt;figure class="xCodeBlock">

&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npx textlint -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v11.6.3&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;div class="xNote">
 &lt;span class="xNote_title">☝️ npx コマンドについて&lt;/span>
 &lt;span class="xNote_body">&lt;code>npx&lt;/code> コマンドはローカルパッケージを起動するためのユーティリティで、&lt;code>npx textlint&lt;/code> は、&lt;code>./node_modules/.bin/textlint&lt;/code> のショートカットとして使用できます。
&lt;code>npx&lt;/code> コマンドは &lt;code>npm&lt;/code> コマンドに付属しているので、別途インストールする必要はありません。&lt;/span>
&lt;/div>

&lt;h3 id="システム全体にインストールする">システム全体にインストールする&lt;/h3>
&lt;p>次のようにして、textlint コマンドをシステム全体にインストールすることもできます。&lt;/p></description></item><item><title>VS Code の textlint プラグインで文章を校正する (vscode-textlint)</title><link>https://maku.blog/p/d3fs5gs/</link><pubDate>Wed, 20 May 2020 00:00:00 +0900</pubDate><guid>https://maku.blog/p/d3fs5gs/</guid><description>&lt;h2 id="事前準備textlint-のインストール">事前準備（textlint のインストール）&lt;/h2>
&lt;p>&lt;strong>vscode-textlint&lt;/strong> は、Visual Studio Code でテキスト校正ツールの textlint を実行するためのプラグインです。
プレーンテキスト (.txt) や、Markdown ファイル (.md) の校正を VS Code 上で実行できるようになります。
textlint の本体の方は、Node.js の &lt;code>npm&lt;/code> コマンドを使ってあらかじめインストールしておく必要があります。&lt;/p>
&lt;ul>
&lt;li>参考: &lt;a href="../../p/3veuap5">textlint のインストールと基本的な使い方&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>こんな感じでインストールできます。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">textlint 本体のインストール&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ cd myproject # テキストファイルのあるディレクトリへ移動
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm init -y # package.json がない場合は作成
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ npm install -D textlint # textlint のインストール&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>もし、既存のプロジェクトで、&lt;code>package.json&lt;/code> や &lt;code>.textlintrc&lt;/code> などがすでに存在しているのであれば、次のように実行すれば一発で textlint の実行環境が整います。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">package.json に従って環境構築する場合&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm install&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h2 id="vscode-textlint-プラグインをインストールする">vscode-textlint プラグインをインストールする&lt;/h2>
&lt;p>vscode-textlint プラグインは、VS Code の Extensions タブから、&lt;code>textlint&lt;/code> で検索してインストールすることができます。&lt;/p>


&lt;figure class="xImage">
 &lt;img style="border: solid #ccc 2px;" width="1800" height="575" src="../../p/d3fs5gs/img-001.png" alt="/p/d3fs5gs/img-001.png" />
&lt;/figure>

&lt;h2 id="vscode-textlint-プラグインによる校正を実行する">vscode-textlint プラグインによる校正を実行する&lt;/h2>
&lt;p>vscode-textlint プラグインは、VS Code で開いたディレクトリ内に設定ファイル &lt;strong>&lt;code>.textlintrc&lt;/code>&lt;/strong> が存在すると自動的に校正を実行します（ファイルではなく、ディレクトリを開かないと動作しません）。
たとえば次の設定ファイルでは、&lt;a href="https://github.com/textlint/textlint/wiki/Collection-of-textlint-rule#textlint-rule-no-dropping-the-ra">「ら抜き言葉」を検出するルール設定&lt;/a> を行なっています。&lt;/p></description></item><item><title>textlint で表記揺れをチェックする (proofread-helper, prh)</title><link>https://maku.blog/p/m4cks29/</link><pubDate>Thu, 18 Jun 2020 00:00:00 +0900</pubDate><guid>https://maku.blog/p/m4cks29/</guid><description>&lt;h2 id="prh-と-textlint-rule-prh">prh と textlint-rule-prh&lt;/h2>
&lt;p>テキストファイルの表記揺れをチェックする Node.js 製ツールに、&lt;a href="https://github.com/prh/prh">proofread-helper (prh)&lt;/a> というものがあります。
これを使うと、例えば、テキストファイル内の &lt;code>javascript&lt;/code> という文字列を &lt;code>JavaScript&lt;/code> に自動的に修正できたりします（大文字・小文字の構成）。&lt;/p>
&lt;p>textlint の作者の azu さんが、この prh を textlint から使えるようにするルール定義 &lt;a href="https://github.com/textlint-rule/textlint-rule-prh">textlint-rule-prh&lt;/a> を作成してくれています。
prh を直接使うよりも、Markdown ファイルの構文をうまく扱ってくれるみたいです（リンク内のテキストは対象外にするなど）。&lt;/p>
&lt;h2 id="インストール">インストール&lt;/h2>
&lt;h3 id="ルールのインストール">ルールのインストール&lt;/h3>
&lt;p>textlint 用のルールモジュールである &lt;code>textlint-rule-prh&lt;/code> は、次のようにインストールします（textlint 自体はインストール済みであるとします）。
proofread-helper を別途インストールする必要はありません。&lt;/p>

&lt;figure class="xCodeBlock">

&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">$ npm install --save-dev textlint-rule-prh&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h3 id="設定ファイルの作成">設定ファイルの作成&lt;/h3>
&lt;p>proofread-helper (prh) の設定ファイル（表記揺れチェックルール）は、下記のような感じで Yaml ファイルで作成します。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">rules.yml&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 大文字小文字全角半角の統一&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">expected&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">JavaScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">expected&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jQuery&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;p>textlint の設定ファイルで &lt;code>textlint-rule-prh&lt;/code> を有効にし、上記のルールファイルのパスを指定します。&lt;/p>

&lt;figure class="xCodeBlock">
&lt;figcaption class="xCodeBlock_title">.textlintrc&lt;/figcaption>
&lt;div class="xCodeBlock_code">&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;rules&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;prh&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;rulePaths&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./rules.yml&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>
&lt;/figure>

&lt;h2 id="実行">実行&lt;/h2>
&lt;p>あとは、textlint を実行すれば、表記揺れを検出してくれます。&lt;/p></description></item></channel></rss>