<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ripgrep on まくろぐ</title><link>https://maku.blog/tags/ripgrep/</link><description>Recent content in Ripgrep on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Mon, 15 Sep 2025 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/ripgrep/index.xml" rel="self" type="application/rss+xml"/><item><title>rg (ripgrep) コマンドの使い方まとめ</title><link>https://maku.blog/p/4jhbtm3/</link><pubDate>Mon, 15 Sep 2025 00:00:00 +0900</pubDate><guid>https://maku.blog/p/4jhbtm3/</guid><description>&lt;p>超高速なテキスト検索コマンド &lt;a href="https://github.com/BurntSushi/ripgrep">&lt;strong>rg (ripgrep)&lt;/strong>&lt;/a> にはずっとお世話になっていますが、ちょっと凝った検索をしようとしたときに、オプションを忘れてしまうことが多いので、チートシートの形でまとめておきます。&lt;/p>
&lt;h2 id="ripgrep-チートシート">Ripgrep チートシート&lt;/h2>
&lt;ul>
&lt;li>&lt;code>rg TODO&lt;/code>
&lt;ul>
&lt;li>カレントディレクトリ以下ですべての「TODO」を検索します。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &amp;quot;^def add&amp;quot;&lt;/code>
&lt;ul>
&lt;li>行頭が &lt;code>def add&lt;/code> で始まる行を検索します（デフォルトで正規表現とみなされます）。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-F&lt;/strong> "* + *&amp;quot;&lt;/code>
&lt;ul>
&lt;li>検索文字列を正規表現として解釈せず、そのままの文字列として検索します。上記の例では、&lt;code>* + *&lt;/code> という文字列を検索します。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-i&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>大文字・小文字を区別せずに「TODO」を検索します。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-w&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>単語単位で「TODO」を検索します。例えば &lt;code>TODOS&lt;/code> や &lt;code>MYTODO&lt;/code> はマッチしません（安心してください、&lt;code>TODO:&lt;/code> にはマッチします）。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-C2&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>マッチした行の前後 2 行も一緒に表示します（&lt;code>-A2 -B2&lt;/code> と指定するのと同様）。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-c&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>各ファイルごとにマッチした行数のみを表示します。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg TODO &lt;strong>src/main&lt;/strong>&lt;/code>
&lt;ul>
&lt;li>&lt;code>src/main&lt;/code> ディレクトリ以下（あるいは同名のファイル）で「TODO」を検索します。
ディレクトリであることを明示したい場合は、末尾にスラッシュを付けます（&lt;code>src/main/&lt;/code>）。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-t py&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>Python ファイル（拡張子 &lt;code>.py&lt;/code>）のみを検索対象にします。&lt;/li>
&lt;li>ここで指定するタイプは拡張子ではなくファイルタイプです。指定できるファイルタイプの一覧は &lt;strong>&lt;code>rg --type-list&lt;/code>&lt;/strong> で確認できます。&lt;/li>
&lt;li>逆に、特定のファイルタイプを除外したい場合は &lt;code>&lt;strong>-T&lt;/strong> py&lt;/code> のように大文字の &lt;code>-T&lt;/code> を使います。&lt;/li>
&lt;li>例えば、ファイルタイプとして &lt;code>minified: *.min.css, *.min.html, *.min.js&lt;/code> が定義されているので、&lt;strong>&lt;code>-T minified&lt;/code>&lt;/strong> と指定すると &lt;code>min&lt;/code> 系のファイルを除外できます。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>-g "*.{js,ts}&amp;quot;&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>glob パターンで指定したファイルのみを検索対象にします。引数がシェルによって展開されないように、必ずクォートで囲みます。&lt;/li>
&lt;li>大文字小文字を区別せずにマッチさせたい場合は、&lt;code>-g&lt;/code> の代わりに &lt;strong>&lt;code>--iglob&lt;/code>&lt;/strong> を使います。&lt;/li>
&lt;li>glob パターンの例:
&lt;ul>
&lt;li>&lt;code>-g &amp;quot;*.{js.ts}&amp;quot;&lt;/code> &amp;hellip; 拡張子が &lt;code>.js&lt;/code> または &lt;code>.ts&lt;/code> のファイル&lt;/li>
&lt;li>&lt;code>--iglob &amp;quot;*test*&lt;/code> &amp;hellip; ファイル名に &lt;code>test&lt;/code> や &lt;code>Test&lt;/code> を含むファイル&lt;/li>
&lt;li>&lt;code>-g &amp;quot;**/game/**/*.py&amp;quot;&lt;/code> &amp;hellip; 任意の階層の &lt;code>game&lt;/code> ディレクトリ以下の &lt;code>.py&lt;/code> ファイル&lt;/li>
&lt;li>&lt;code>-g &amp;quot;**/game/*.py&amp;quot;&lt;/code> &amp;hellip; 任意の階層の &lt;code>game&lt;/code> ディレクトリ直下の &lt;code>.py&lt;/code> ファイル&lt;/li>
&lt;li>&lt;code>-g &amp;quot;/.*&amp;quot;&lt;/code> &amp;hellip; この階層のドットファイル&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>--hidden&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>隠しファイル・隠しディレクトリも検索対象に含めます。&lt;/li>
&lt;li>ただし、ドットファイルだけを検索したい場合は、&lt;code>-g &amp;quot;.*&amp;quot;&lt;/code> のように glob パターンを使う方がよいです。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rg &lt;strong>--no-ignore&lt;/strong> TODO&lt;/code>
&lt;ul>
&lt;li>&lt;code>.gitignore&lt;/code> や &lt;code>.ignore&lt;/code>、&lt;code>$HOME/.rgignore&lt;/code> などで無視されているファイル・ディレクトリも検索対象に含めます。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="どのファイルが検索対象になっているかを調べる">どのファイルが検索対象になっているかを調べる&lt;/h2>
&lt;p>&lt;code>--files&lt;/code> オプションを使うと、実際にどのファイルが検索対象になっているかを確認できます。
試行錯誤しながら検索条件を調整したいときに便利です。&lt;/p></description></item></channel></rss>