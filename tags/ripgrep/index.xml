<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ripgrep on まくろぐ</title><link>https://maku.blog/tags/ripgrep/</link><description>Recent content in Ripgrep on まくろぐ</description><generator>Hugo</generator><language>ja-jp</language><lastBuildDate>Sat, 28 Feb 2026 00:00:00 +0900</lastBuildDate><atom:link href="https://maku.blog/tags/ripgrep/index.xml" rel="self" type="application/rss+xml"/><item><title>rg (ripgrep) コマンドの使い方まとめ</title><link>https://maku.blog/p/4jhbtm3/</link><pubDate>Mon, 15 Sep 2025 00:00:00 +0900</pubDate><guid>https://maku.blog/p/4jhbtm3/</guid><description>&lt;p>超高速なテキスト検索コマンド &lt;a href="https://github.com/BurntSushi/ripgrep">&lt;strong>rg (ripgrep)&lt;/strong>&lt;/a> にはずっとお世話になっていますが、ちょっと凝った検索をしようとしたときに、オプションを忘れてしまうことが多いので、チートシートの形でまとめておきます。
&lt;code>rg&lt;/code> は Windows でも macOS/Linux でもほぼ同じように使えるので、使いこなせるようになると便利です。&lt;/p>
&lt;h2 id="ripgrep-チートシート">Ripgrep チートシート&lt;/h2>
&lt;h3 id="検索パターン">検索パターン&lt;/h3>
&lt;dl>
&lt;dt>&lt;code>rg &amp;quot;^def &amp;quot;&lt;/code>&lt;/dt>
&lt;dd>カレントディレクトリ以下のすべてのファイルから、行頭が &lt;code>def &lt;/code> で始まる行を検索します。
&lt;code>rg&lt;/code> はデフォルトで、&lt;strong>入力パターンを正規表現として扱います&lt;/strong>。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-F&lt;/strong> "*****&amp;quot;&lt;/code>&lt;/dt>
&lt;dd>検索文字列を正規表現として解釈せず、そのままの文字列 (Fixed String) として検索します。上記の例では、&lt;code>*****&lt;/code> という文字列を検索します。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-i&lt;/strong> "PATTERN"&lt;/code>&lt;/dt>
&lt;dd>大文字・小文字を区別せずに「PATTERN」を検索します。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-w&lt;/strong> "PATTERN"&lt;/code>&lt;/dt>
&lt;dd>単語単位で「PATTERN」を検索します。例えば &lt;code>PATTERNS&lt;/code> や &lt;code>MYPATTERN&lt;/code> はマッチしません（安心してください、&lt;code>TODO:&lt;/code> にはマッチします）。
&lt;code>-w&lt;/code> オプションの代わりに、正規表現の単語境界 &lt;strong>&lt;code>\b&lt;/code>&lt;/strong> を使って、&lt;code>rg &amp;quot;\bPATTERN\b&amp;quot;&lt;/code> とすることもできます。&lt;/dd>
&lt;/dl>
&lt;h3 id="対象ファイルディレクトリの絞り込み">対象ファイル／ディレクトリの絞り込み&lt;/h3>
&lt;dl>
&lt;dt>&lt;code>rg PATTERN &lt;strong>path/to/dir&lt;/strong>&lt;/code>&lt;/dt>
&lt;dd>&lt;code>path/to/dir&lt;/code> ディレクトリ以下（あるいは同名のファイル）で「PATTERN」を検索します。
ディレクトリであることを明示したい場合は、末尾にスラッシュを付けます（&lt;code>path/to/dir/&lt;/code>）。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-t py&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dt>&lt;code>rg &lt;strong>-t sh&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>Python ファイル（拡張子 &lt;code>.py&lt;/code>）やシェルスクリプト（拡張子 &lt;code>.sh&lt;/code> や &lt;code>.zsh&lt;/code>）のみを検索対象にします。
ここで指定するタイプは拡張子ではなくファイルタイプです。指定できるファイルタイプの一覧は &lt;strong>&lt;code>rg --type-list&lt;/code>&lt;/strong> で確認できます。
逆に、特定のファイルタイプを除外したい場合は &lt;strong>&lt;code>-T py&lt;/code>&lt;/strong> のように大文字の &lt;code>-T&lt;/code> を使います。例えば &lt;strong>&lt;code>-T minified&lt;/code>&lt;/strong> と指定すると &lt;code>min&lt;/code> 系のファイル (&lt;code>minified: *.min.css, *.min.html, *.min.js&lt;/code>) を除外できます。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-g "*.{js,ts}&amp;quot;&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>glob パターンで指定したファイルのみを検索対象にします。引数がシェルによって展開されないように、必ずクォートで囲みます。
大文字小文字を区別せずにマッチさせたい場合は、&lt;code>-g&lt;/code> の代わりに &lt;strong>&lt;code>--iglob&lt;/code>&lt;/strong> を使います。
glob パターンを &lt;code>!&lt;/code> で始めると、指定したパターンにマッチするファイルやディレクトリを検索対象から除外できます（zsh による履歴展開が働かないようにするためには、パターンをシングルクォートで囲みます）。
&lt;ul>
&lt;li>glob パターンの例:
&lt;ul>
&lt;li>&lt;code>-g '*.{js,ts}'&lt;/code> &amp;hellip; 拡張子が &lt;code>.js&lt;/code> または &lt;code>.ts&lt;/code> のファイルを検索&lt;/li>
&lt;li>&lt;code>-g '*test*'&lt;/code> &amp;hellip; ファイル名に &lt;code>test&lt;/code> を含むファイルを検索&lt;/li>
&lt;li>&lt;code>--iglob '*test*'&lt;/code> &amp;hellip; ファイル名に &lt;code>test&lt;/code> を含むファイルを検索（大文字小文字を区別しない）&lt;/li>
&lt;li>&lt;code>-g '**/hoge/**/*.py'&lt;/code> &amp;hellip; 任意の階層の &lt;code>hoge&lt;/code> ディレクトリ以下の &lt;code>.py&lt;/code> ファイルを検索&lt;/li>
&lt;li>&lt;code>-g '**/hoge/*.py'&lt;/code> &amp;hellip; 任意の階層の &lt;code>hoge&lt;/code> ディレクトリ直下の &lt;code>.py&lt;/code> ファイルを検索&lt;/li>
&lt;li>&lt;code>-g 'hoge/**'&lt;/code> &amp;hellip; この階層の &lt;code>hoge&lt;/code> ディレクトリ以下のファイルを検索&lt;/li>
&lt;li>&lt;code>-g 'hoge/*'&lt;/code> &amp;hellip; この階層の &lt;code>hoge&lt;/code> ディレクトリ直下のファイルを検索&lt;/li>
&lt;li>&lt;code>-g '!*.min.js'&lt;/code> &amp;hellip; 拡張子が &lt;code>.min.js&lt;/code> のファイルを検索対象から除外&lt;/li>
&lt;li>&lt;code>-g '!hoge/'&lt;/code> &amp;hellip; この階層の &lt;code>hoge&lt;/code> ディレクトリを検索対象から除外&lt;/li>
&lt;li>&lt;code>-g '!**/hoge/'&lt;/code> &amp;hellip; 任意の階層の &lt;code>hoge&lt;/code> ディレクトリを検索対象から除外&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>--hidden&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>隠しファイル・隠しディレクトリも検索対象に含めます。
ただし、ドットファイルだけを検索したい場合は、&lt;code>-g &amp;quot;.*&amp;quot;&lt;/code> のように glob パターンを使う方がよいです。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>--no-ignore&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>&lt;code>.gitignore&lt;/code> や &lt;code>.ignore&lt;/code>、&lt;code>$HOME/.rgignore&lt;/code> などで無視されているファイル・ディレクトリも検索対象に含めます。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>--max-depth 1&lt;/strong> PATTERN src/&lt;/code>&lt;/dt>
&lt;dd>&lt;code>src/&lt;/code> ディレクトリの直下だけを検索対象にします。サブディレクトリは検索されません。&lt;/dd>
&lt;/dl>
&lt;h3 id="表示オプション">表示オプション&lt;/h3>
&lt;dl>
&lt;dt>&lt;code>rg &lt;strong>-C2&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>マッチした行の前後 2 行も一緒に表示します（&lt;code>-A2 -B2&lt;/code> と指定するのと同様）。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-c&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>ファイルごとにマッチした行数のみを表示します。&lt;/dd>
&lt;dt>&lt;code>rg &lt;strong>-l&lt;/strong> PATTERN&lt;/code>&lt;/dt>
&lt;dd>ファイル名のみを表示します。&lt;/dd>
&lt;/dl>
&lt;h2 id="どのファイルが検索対象になっているかを調べる---files">どのファイルが検索対象になっているかを調べる (&lt;code>--files&lt;/code>)&lt;/h2>
&lt;p>&lt;strong>&lt;code>--files&lt;/code>&lt;/strong> オプションを使うと、実際にどのファイルが検索対象になっているかを確認できます。
試行錯誤しながら検索条件を調整したいときに便利です。&lt;/p></description></item></channel></rss>