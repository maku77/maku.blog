---
title: "gnuplot: 場合分けをして不連続関数を描画する"
url: "/p/tbxfo2c"
date: "2004-01-03"
lastmod: "2013-05-03"
tags: ["gnuplot"]
weight: 205
---

次のようにすると、x の範囲によって値を不連続に変化させることができます。

{{< code lang="gnuplot" >}}
f(x) = (x > 0) ? 1 : -1
set samples 10000
plot f(x)
{{< /code >}}

上のように連続した関数じゃない場合は、サンプル数が少ないと x=0 の場所の縦線が斜めになってしまうようです。

（追記: 2013-05-03）`plot` するときに、`plot f(x) with steps` とすれば、少なくとも線が斜めになってしまうのは防げるようです。
ただ、`samples` の数は増やしておかないと、x=0 の位置より少しずれた場所で y の値が変化してしまうので、やっぱり `set samples` は必要です。

