---
title: "IAM ポリシーについて理解する（ドラフト）"
url: "/p/82jyhxf"
date: "2021-05-31"
tags: ["AWS"]
weight: -1
draft: true
---

IAM ポリシーは AWS リソースへのアクセス権限を定義するものであり、次のような IAM アイデンティティーか AWS リソースにアタッチすることで使用可能な状態になります。


IAM アイデンティティー
----

IAM アイデンティティーには次のようなものがあり、サービスのアイデンティティーという表現をしたりします。

- IAM ユーザー
- IAM グループ
- IAM ロール

これらにアタッチするポリシーは、__アイデンティティーベースのポリシー (Identity-based policies)__ と呼ばれ、さらに次の 2 つに分類されています。

1. 管理ポリシー (Managed policies)
    a. AWS managed policies ... AWS が用意しているポリシー
    b. Customer managed policies ... ユーザーが自由に定義したポリシー
2. インラインポリシー (Inline policies)
    - 1 つのアイデンティティ（IAM ユーザー、グループ、ロール）に埋め込む形で定義するポリシー。Managed policies のように使い回しはできず、AWS ドキュメントでは基本的に非推奨とされています。


AWS リソース
----

次のような AWS リソースに、ポリシーを直接アタッチするケースもあります。

- S3 バケット
- Lambda 関数

これらのリソースにアタッチするポリシーは、__リソースベースのポリシー (Resource-based policies)__ と呼ばれます。
特に、S3 バケットにアタッチするポリシーのことを、バケットポリシーと呼んだり、リソースごとに固有の呼び方をしているものもあります。

リソースベースのポリシーは、リソースに直接埋め込むポリシーなので、インラインポリシーです。
リソースにアタッチ可能なポリシーは 1 つだけですが、ポリシーは複数のステートメント（権限の定義）を含めることができます。

