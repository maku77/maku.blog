---
title: "ネットワークトラブルの調査手順"
url: "/p/eecgkww"
date: "2010-10-10"
tags: ["ネットワーク"]
---

ネットワークトラブルはホストに近いところからチェックしていくのがセオリーです。
ソフトウェア的要因よりも、ハードウェア的要因の方を先に調べるのがよいです。

- <b>ハードウェア的要因</b>
    - ケーブルの断線
    - NIC の故障
    - 電源の故障
    - ポートの接触不良
    - 機器の熱暴走
- <b>ソフトウェア的要因</b>
    - IP アドレスの設定ミス
    - デフォルトゲートウェイの設定ミス
    - VLAN の設定ミス
    - ルーティングテーブルの不具合
    - サーバアプリケーションの設定ミス／不具合

参考: NETWORKWORLD - May 2007


ping による調査
----

あるホストに ping が通らないときは、以下の順番で ping を通す確認をしていきます。
テスト結果は正常時の結果と比べなければ意味がないので、正常時の tracert 結果などを定期的にとっておくことが重要です。

1. ループバックアドレスに対して ping
    - TCP/IP モジュールの異常の可能性
2. ホストの IP アドレスへ ping
    - OS が NIC を認識していない可能性
3. 同じスイッチに接続された別の PC へ ping
    - スイッチのポート、ケーブルの故障
    - VLAN の設定ミス、接続ミス
    - スイッチ自体には IP アドレスは設定されないので、別の PC に ping することで、スイッチまでの接続を確認する。
4. ルータに ping
    - ルータのダウン、アドレス設定ミス
5. ルータの別のポートへ ping
    - ルーティングプロセスの異常
    - インタフェースの設定ミス
    - ルータは複数のネットワークにつながっているので、別のネットワーク用のポートにも ping する必要がある。
6. 異なるネットワークの PC へ ping
    - tracert で、通信不能ネットワークを切り分け
7. ターゲットホストに ping
    - ターゲットホストのダウン
8. アプリケーソンレベルの確認

参考: NETWORKWORLD - May 2007

