---
title: "数学メモ: 調和平均 (harmonic mean) とは"
url: "p/4fz2tti/"
date: "2024-04-20"
tags: ["数学"]
useMath: true
---

「1、2、3 の平均は？」と聞かれたら、答えは \\( \frac{1+2+3}{3} = 2 \\) ですね。
この平均は、正確には算術平均 (arithmetic mean / arithmetical mean) と呼ばれているもので、実は他にもいろいろな種類の平均があります。
今回説明するのは __調和平均 (harmonic mean)__ です。


調和平均の求め方
----

調和平均は、__逆数の算術平均をとったものを逆数にする__ ことで求めます。

例えば、1、2、3 という 3 つの値がある場合、それらの逆数の算術平均が

$$
\frac{\frac{1}{1} + \frac{1}{2} + \frac{1}{3}}{3}
$$

なので、さらにその逆数をとって、

$$
\begin{align}
\frac{3}{\frac{1}{1} + \frac{1}{2} + \frac{1}{3}}
  &= \frac{18}{11} \\\\
  &= 1.636363...
\end{align}
$$

が調和平均の値になります。


調和平均が意味するもの
----

調和平均は、個々の要素の値が反比例する形で全体に影響を与える場合に使います。
典型的なのは平均時速を求める次のような問題です。

問. ある道のりの往路を時速 __10km/h__、復路を時速 __30km/h__ で走ったときの平均時速を求めよ。

これを単純に \\( \frac{10 + 30}{2} = 20 \\) km/h と計算するのは間違いです。
時速 10km/h と時速 30km/h には 3 倍の速度差があるのは確かなのですが、それぞれの速度で走った時間も 3 倍異なるからです。
この平均時速を求めるには調和平均を使い、\\( \frac{2}{\frac{1}{10} + \frac{1}{30}} = 15 \\) km/h とするのが正解です。

もう少し冗長に計算してみます。
片道の長さを \\( d \\) とおくと、

- 合計距離 ... \\( 2d \\)
- 時速 10km/h で走った場合にかかる時間(h) ... \\( \frac{d}{10} \\)
- 時速 30km/h で走った場合にかかる時間(h) ... \\( \frac{d}{30} \\)

「平均時速 = 合計距離／合計時間」なので、

$$
\begin{align}
平均時速
  &= \frac{2d}{\frac{d}{10} + \frac{d}{30}} \\\\
  &= \frac{2}{\frac{1}{10} + \frac{1}{30}} \\\\
  &= 15
\end{align}
$$

と計算できます。
着目している値が分母にくる計算なので、調和平均を使うんですね。

